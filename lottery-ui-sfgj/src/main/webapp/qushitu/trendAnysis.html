<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Pragma" content="no-cache">
<title>走势分析图</title>
<link href="css/style.css" rel="stylesheet" type="text/css">
<link href="css/line.css" rel="stylesheet" type="text/css">
<link href="js/jqueryui/jquery-ui-1.8.23.custom.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="css/index.css">
<script language="javascript" type="text/javascript" src="js/jquery-1.8.0.min.js"></script>
<script language="javascript" type="text/javascript" src="js/line.js"></script>
<script language="javascript" type="text/javascript" src="js/jqueryui/jquery-ui-1.8.23.custom.min.js"></script>
<!-- script language="javascript" type="text/javascript" src="js/index.js"></script> -->
<script src="../js/modules/site.js"></script>
</head>
<body style="background: none;">	
	<div id="content">
		<div class="search">
			<b class="b5"></b> 
			<b class="b6"></b> 
			<b class="b7"></b> 
			<b class="b8"></b>
			<table width="100%" id="titlemessage" border="0" cellpadding="0" cellspacing="0" style="background: #DDE0E5;">
				<tbody>
					<tr>
						<td class="text-left" style="padding-left:10px;"> <el-button type="primary">高频彩基本走势</el-button></td>
						<td><b>
							<!--select id="typeid" name="typeid">
							    <option value="ffc">高频彩</option>
							    <option value="lfc">双分彩</option>
							    <option value="yfc">分分彩</option>
							    <option value="ssc" selected>重庆时时彩</option>
							  </select-->
						</b></td>
						<td class="top-menu">
							<a href="javascript:void(0)" id="display_30" class="on" target="_self"  num="30">最近30期</a> 
							<a href="javascript:void(0)" class="ml10" target="_self" num="50">最近50期</a> 
							<a href="javascript:void(0)" class="ml10" target="_self" num="80">最近80期</a>
							<a href="javascript:void(0)" class="ml10" target="_self" num="100">最近100期</a>
							<a href="javascript:void(0)" class="ml10" target="_self" num="120">最近120期</a>
						</td>
						<td></td>
					</tr>

				</tbody>
			</table>
			<b class="b8"></b> <b class="b7"></b> <b class="b6"></b> <b
				class="b5"></b>
		</div>
		<table height="5">
			<tbody>
				<tr>
					<td></td>
				</tr>
			</tbody>
		</table>
		<table align="center">
			<tbody>
				<tr>
					<td colspan="3" style="border: 0px;">标注形式选择&nbsp;
						<input type="checkbox" name="checkbox2" value="checkbox" id="has_line">
						<span>
							<b>
								<label for="has_line">显示走势折线</label>
							</b>
						</span>&nbsp; 
						<span>
							<label for="no_miss"> 
								<input type="checkbox" name="checkbox" value="checkbox" id="no_miss">不带遗漏
							</label>
						</span>
					</td>
				</tr>
			</tbody>
		</table>
		<table height="5">
			<tbody>
				<tr>
					<td></td>
				</tr>
			</tbody>
		</table>
		<div style="position: relative; height: 210px;" id="container">
			<table id="chartsTable" width="100%" cellpadding="0" cellspacing="0"
				border="0" style="position: absolute; top: 0; left: 0;">
				<tbody>
					<tr id="title">
						<td rowspan="2"><strong>期号</strong></td>
						<td rowspan="2" colspan="5" class="redtext"><strong>开奖号码</strong></td>
						<td colspan="10"><strong>万位</strong></td>
						<td colspan="10"><strong>千位</strong></td>
						<td colspan="10"><strong>百位</strong></td>
						<td colspan="10"><strong>十位</strong></td>
						<td colspan="10"><strong>个位</strong></td>
					</tr>
					<tr id="head">
						<td class="wdh" align="center"><strong>0</strong></td>
						<td class="wdh" align="center"><strong>1</strong></td>
						<td class="wdh" align="center"><strong>2</strong></td>
						<td class="wdh" align="center"><strong>3</strong></td>
						<td class="wdh" align="center"><strong>4</strong></td>
						<td class="wdh" align="center"><strong>5</strong></td>
						<td class="wdh" align="center"><strong>6</strong></td>
						<td class="wdh" align="center"><strong>7</strong></td>
						<td class="wdh" align="center"><strong>8</strong></td>
						<td class="wdh" align="center"><strong>9</strong></td>
						<td class="wdh" align="center"><strong>0</strong></td>
						<td class="wdh" align="center"><strong>1</strong></td>
						<td class="wdh" align="center"><strong>2</strong></td>
						<td class="wdh" align="center"><strong>3</strong></td>
						<td class="wdh" align="center"><strong>4</strong></td>
						<td class="wdh" align="center"><strong>5</strong></td>
						<td class="wdh" align="center"><strong>6</strong></td>
						<td class="wdh" align="center"><strong>7</strong></td>
						<td class="wdh" align="center"><strong>8</strong></td>
						<td class="wdh" align="center"><strong>9</strong></td>
						<td class="wdh" align="center"><strong>0</strong></td>
						<td class="wdh" align="center"><strong>1</strong></td>
						<td class="wdh" align="center"><strong>2</strong></td>
						<td class="wdh" align="center"><strong>3</strong></td>
						<td class="wdh" align="center"><strong>4</strong></td>
						<td class="wdh" align="center"><strong>5</strong></td>
						<td class="wdh" align="center"><strong>6</strong></td>
						<td class="wdh" align="center"><strong>7</strong></td>
						<td class="wdh" align="center"><strong>8</strong></td>
						<td class="wdh" align="center"><strong>9</strong></td>
						<td class="wdh" align="center"><strong>0</strong></td>
						<td class="wdh" align="center"><strong>1</strong></td>
						<td class="wdh" align="center"><strong>2</strong></td>
						<td class="wdh" align="center"><strong>3</strong></td>
						<td class="wdh" align="center"><strong>4</strong></td>
						<td class="wdh" align="center"><strong>5</strong></td>
						<td class="wdh" align="center"><strong>6</strong></td>
						<td class="wdh" align="center"><strong>7</strong></td>
						<td class="wdh" align="center"><strong>8</strong></td>
						<td class="wdh" align="center"><strong>9</strong></td>
						<td class="wdh" align="center"><strong>0</strong></td>
						<td class="wdh" align="center"><strong>1</strong></td>
						<td class="wdh" align="center"><strong>2</strong></td>
						<td class="wdh" align="center"><strong>3</strong></td>
						<td class="wdh" align="center"><strong>4</strong></td>
						<td class="wdh" align="center"><strong>5</strong></td>
						<td class="wdh" align="center"><strong>6</strong></td>
						<td class="wdh" align="center"><strong>7</strong></td>
						<td class="wdh" align="center"><strong>8</strong></td>
						<td class="wdh" align="center"><strong>9</strong></td>
					</tr>
					
					
					<tr>
						<td nowrap="">出现总次数</td>
						<td align="center" colspan="5">&nbsp;</td>
						<td align="center">6</td>
						<td align="center">15</td>
						<td align="center">11</td>
						<td align="center">7</td>
						<td align="center">9</td>
						<td align="center">11</td>
						<td align="center">16</td>
						<td align="center">9</td>
						<td align="center">15</td>
						<td align="center">21</td>
						<td align="center">15</td>
						<td align="center">12</td>
						<td align="center">9</td>
						<td align="center">10</td>
						<td align="center">10</td>
						<td align="center">12</td>
						<td align="center">10</td>
						<td align="center">15</td>
						<td align="center">15</td>
						<td align="center">12</td>
						<td align="center">12</td>
						<td align="center">14</td>
						<td align="center">23</td>
						<td align="center">11</td>
						<td align="center">9</td>
						<td align="center">11</td>
						<td align="center">8</td>
						<td align="center">12</td>
						<td align="center">9</td>
						<td align="center">11</td>
						<td align="center">14</td>
						<td align="center">20</td>
						<td align="center">11</td>
						<td align="center">12</td>
						<td align="center">11</td>
						<td align="center">13</td>
						<td align="center">7</td>
						<td align="center">9</td>
						<td align="center">12</td>
						<td align="center">11</td>
						<td align="center">15</td>
						<td align="center">9</td>
						<td align="center">10</td>
						<td align="center">13</td>
						<td align="center">15</td>
						<td align="center">15</td>
						<td align="center">13</td>
						<td align="center">10</td>
						<td align="center">8</td>
						<td align="center">12</td>
					</tr>
					<tr>
						<td nowrap="">平均遗漏值</td>
						<td align="center" colspan="5">&nbsp;</td>
						<td align="center">17</td>
						<td align="center">7</td>
						<td align="center">10</td>
						<td align="center">15</td>
						<td align="center">12</td>
						<td align="center">10</td>
						<td align="center">7</td>
						<td align="center">12</td>
						<td align="center">7</td>
						<td align="center">5</td>
						<td align="center">7</td>
						<td align="center">9</td>
						<td align="center">12</td>
						<td align="center">10</td>
						<td align="center">10</td>
						<td align="center">9</td>
						<td align="center">10</td>
						<td align="center">7</td>
						<td align="center">7</td>
						<td align="center">9</td>
						<td align="center">9</td>
						<td align="center">8</td>
						<td align="center">5</td>
						<td align="center">10</td>
						<td align="center">12</td>
						<td align="center">10</td>
						<td align="center">13</td>
						<td align="center">9</td>
						<td align="center">12</td>
						<td align="center">10</td>
						<td align="center">8</td>
						<td align="center">5</td>
						<td align="center">10</td>
						<td align="center">9</td>
						<td align="center">10</td>
						<td align="center">8</td>
						<td align="center">15</td>
						<td align="center">12</td>
						<td align="center">9</td>
						<td align="center">10</td>
						<td align="center">7</td>
						<td align="center">12</td>
						<td align="center">10</td>
						<td align="center">8</td>
						<td align="center">7</td>
						<td align="center">7</td>
						<td align="center">8</td>
						<td align="center">10</td>
						<td align="center">13</td>
						<td align="center">9</td>
					</tr>
					<tr>
						<td nowrap="">最大遗漏值</td>
						<td align="center" colspan="5">&nbsp;</td>
						<td align="center">49</td>
						<td align="center">22</td>
						<td align="center">19</td>
						<td align="center">32</td>
						<td align="center">34</td>
						<td align="center">24</td>
						<td align="center">37</td>
						<td align="center">54</td>
						<td align="center">24</td>
						<td align="center">16</td>
						<td align="center">0</td>
						<td align="center">0</td>
						<td align="center">0</td>
						<td align="center">0</td>
						<td align="center">0</td>
						<td align="center">0</td>
						<td align="center">0</td>
						<td align="center">0</td>
						<td align="center">0</td>
						<td align="center">0</td>
						<td align="center">39</td>
						<td align="center">18</td>
						<td align="center">22</td>
						<td align="center">21</td>
						<td align="center">23</td>
						<td align="center">36</td>
						<td align="center">24</td>
						<td align="center">21</td>
						<td align="center">28</td>
						<td align="center">39</td>
						<td align="center">33</td>
						<td align="center">16</td>
						<td align="center">27</td>
						<td align="center">36</td>
						<td align="center">39</td>
						<td align="center">38</td>
						<td align="center">36</td>
						<td align="center">33</td>
						<td align="center">25</td>
						<td align="center">27</td>
						<td align="center">30</td>
						<td align="center">25</td>
						<td align="center">32</td>
						<td align="center">21</td>
						<td align="center">26</td>
						<td align="center">20</td>
						<td align="center">45</td>
						<td align="center">47</td>
						<td align="center">37</td>
						<td align="center">28</td>

					</tr>
					<tr>
						<td nowrap="">最大连出值</td>
						<td align="center" colspan="5">&nbsp;</td>
						<td align="center">1</td>
						<td align="center">1</td>
						<td align="center">1</td>
						<td align="center">1</td>
						<td align="center">1</td>
						<td align="center">2</td>
						<td align="center">2</td>
						<td align="center">1</td>
						<td align="center">1</td>
						<td align="center">3</td>
						<td align="center">15</td>
						<td align="center">12</td>
						<td align="center">9</td>
						<td align="center">10</td>
						<td align="center">10</td>
						<td align="center">12</td>
						<td align="center">10</td>
						<td align="center">15</td>
						<td align="center">15</td>
						<td align="center">12</td>
						<td align="center">1</td>
						<td align="center">4</td>
						<td align="center">2</td>
						<td align="center">2</td>
						<td align="center">1</td>
						<td align="center">2</td>
						<td align="center">1</td>
						<td align="center">2</td>
						<td align="center">2</td>
						<td align="center">3</td>
						<td align="center">3</td>
						<td align="center">2</td>
						<td align="center">2</td>
						<td align="center">2</td>
						<td align="center">1</td>
						<td align="center">2</td>
						<td align="center">1</td>
						<td align="center">2</td>
						<td align="center">1</td>
						<td align="center">1</td>
						<td align="center">2</td>
						<td align="center">1</td>
						<td align="center">1</td>
						<td align="center">2</td>
						<td align="center">3</td>
						<td align="center">1</td>
						<td align="center">2</td>
						<td align="center">2</td>
						<td align="center">1</td>
						<td align="center">2</td>
					</tr>
					<tr id="Tr1">
						<td rowspan="2" align="center"><strong>期号</strong></td>
						<td rowspan="2" align="center" colspan="5"><strong>开奖号码</strong></td>
						<td align="center"><strong>0</strong></td>
						<td align="center"><strong>1</strong></td>
						<td align="center"><strong>2</strong></td>
						<td align="center"><strong>3</strong></td>
						<td align="center"><strong>4</strong></td>
						<td align="center"><strong>5</strong></td>
						<td align="center"><strong>6</strong></td>
						<td align="center"><strong>7</strong></td>
						<td align="center"><strong>8</strong></td>
						<td align="center"><strong>9</strong></td>
						<td align="center"><strong>0</strong></td>
						<td align="center"><strong>1</strong></td>
						<td align="center"><strong>2</strong></td>
						<td align="center"><strong>3</strong></td>
						<td align="center"><strong>4</strong></td>
						<td align="center"><strong>5</strong></td>
						<td align="center"><strong>6</strong></td>
						<td align="center"><strong>7</strong></td>
						<td align="center"><strong>8</strong></td>
						<td align="center"><strong>9</strong></td>
						<td align="center"><strong>0</strong></td>
						<td align="center"><strong>1</strong></td>
						<td align="center"><strong>2</strong></td>
						<td align="center"><strong>3</strong></td>
						<td align="center"><strong>4</strong></td>
						<td align="center"><strong>5</strong></td>
						<td align="center"><strong>6</strong></td>
						<td align="center"><strong>7</strong></td>
						<td align="center"><strong>8</strong></td>
						<td align="center"><strong>9</strong></td>
						<td align="center"><strong>0</strong></td>
						<td align="center"><strong>1</strong></td>
						<td align="center"><strong>2</strong></td>
						<td align="center"><strong>3</strong></td>
						<td align="center"><strong>4</strong></td>
						<td align="center"><strong>5</strong></td>
						<td align="center"><strong>6</strong></td>
						<td align="center"><strong>7</strong></td>
						<td align="center"><strong>8</strong></td>
						<td align="center"><strong>9</strong></td>
						<td align="center"><strong>0</strong></td>
						<td align="center"><strong>1</strong></td>
						<td align="center"><strong>2</strong></td>
						<td align="center"><strong>3</strong></td>
						<td align="center"><strong>4</strong></td>
						<td align="center"><strong>5</strong></td>
						<td align="center"><strong>6</strong></td>
						<td align="center"><strong>7</strong></td>
						<td align="center"><strong>8</strong></td>
						<td align="center"><strong>9</strong></td>
					</tr>
					<tr id="Tr2">
						<td colspan="10"><strong>万位</strong></td>
						<td colspan="10"><strong>千位</strong></td>
						<td colspan="10"><strong>百位</strong></td>
						<td colspan="10"><strong>十位</strong></td>
						<td colspan="10"><strong>个位</strong></td>
					</tr>

				</tbody>
			</table>
		</div>

		<dl class="tips">
			<dt>图表参数说明</dt>
			<dd>出现总次数：统计期数内实际出现的次数。</dd>
			<dd>平均遗漏值：统计期数内遗漏的平均值。（计算公式：平均遗漏＝统计期数/(出现次数+1)。）</dd>
			<dd>最大遗漏值：统计期数内遗漏的最大值。</dd>
			<dd>最大连出值：统计期数内连续开出的最大值。</dd>
		</dl>
	</div>
	<!--<div id="footer">Copyright © 娱乐</div>-->
	
	

	
</body>

<script language="javascript">
	var resiseCounter = 300;
	var clock = '';
	function initChart() {
		resiseCounter--;
		if(resiseCounter == 0){
			clearInterval(clock)
		}
		//alert($("#chartsTable").height());
		if($("#chartsTable").height() <= 210){
			return ;
		}
		Chart.init();
		DrawLine.bind("chartsTable", "has_line");
		DrawLine.color('#499495');
		DrawLine.add((parseInt(0) * 10 + 5 + 1), 2, 10, 0);
		DrawLine.color('#E4A8A8');
		DrawLine.add((parseInt(1) * 10 + 5 + 1), 2, 10, 0);
		DrawLine.color('#499495');
		DrawLine.add((parseInt(2) * 10 + 5 + 1), 2, 10, 0);
		DrawLine.color('#E4A8A8');
		DrawLine.add((parseInt(3) * 10 + 5 + 1), 2, 10, 0);
		DrawLine.color('#499495');
		DrawLine.add((parseInt(4) * 10 + 5 + 1), 2, 10, 0);
		DrawLine.draw(Chart.ini.default_has_line);
		if ($("#chartsTable").width() > $('body').width()) {
			$('body').width($("#chartsTable").width() + "px");
		}
		$("#container").height($("#chartsTable").height() + "px");
		resize();

		var nols = $(".ball04,.ball03");
		$("#no_miss").click(function() {

			var checked = $(this).attr("checked");
			$.each(nols, function(i, n) {
				if (checked == true || checked == 'checked') {
					n.style.display = 'none';
				} else {
					n.style.display = 'block';
				}
			});
		});
		
		clearInterval(clock);
	}
		
	function resize() {
		window.onresize = func;
		function func() {
			window.location.href = window.location.href;
		}
	}
	$(function() {
		$(".datetxt").datepicker({
			onSelect : function(dateText, inst) {
				$(this).val(dateText);
			}
		});
	})
	</script>
	
	

<script type="text/javascript" >
	function loadIssue(recNum){
		var keyLotteryType = "lotteryType";
		var parentUrl = window.location.href;
        var lotteryType = parseRequestParams(parentUrl, keyLotteryType);
		if(typeof lotteryType == "undefined" || lotteryType == ""){
			return;
		}
		
		var reqUrl = queryIssueByNumberURL.replace('{lotteryType}',lotteryType).replace("{recNum}", recNum);
		
		$.ajax({
			url: reqUrl,
			headers: {
				Authorization: sessionStorage.getItem('accessToken')
			},
			type: "get",
			success: function (data) {
				if(data.status == 1){							
					var html = "";
	    			
					var issues = data.data;
					$.each(issues,function(key,values){   
						html += "<tr name=\"issue_rec\">";
						html += "<td id=\"title\">"+ values.issueNum +"</td>";
						
						if(typeof values.retNum == "undefined" 
							|| values.retNum == null){
							for(var ii = 0; ii < 5; ii++){
								html += "<td class=\"wdh\" align=\"center\"><div class=\"ball02\"></div></td>";
							}
							for(var ii = 0; ii < 5; ii++){
								for(var iii = 0; iii < 10; iii++){
										html += "<td class=\"wdh\" align=\"center\"><div class=\"ball03\"></div></td>";
								}
							}
							
							html += "</tr>";
								return;
						}
						
						var issueNumBits = values.retNum.split(",");
						for(var ii = 0; ii < issueNumBits.length; ii++){
							html += "<td class=\"wdh\" align=\"center\"><div class=\"ball02\">"+ issueNumBits[ii] +"</div></td>";
						}
						
						for(var ii = 0; ii < issueNumBits.length; ii++){
							for(var iii = 0; iii < 10; iii++){
								if(issueNumBits[ii] == iii.toString()){
									html += "<td class=\"charball\" align=\"center\"><div class=\"ball01\">" +issueNumBits[ii]+ "</div></td>";
								}else{
									html += "<td class=\"wdh\" align=\"center\"><div class=\"ball03\"></div></td>";
								}
							}
							
						}
						
						html += "</tr>";
					});  
					
					$("tr[name='issue_rec']").each(function(){
			            $(this).remove();
			        });
					
					$("canvas").each(function(){
			            $(this).remove();
			        });
					
					$( "#head" ).after(html);					
					
					clock = setInterval(initChart, 1000);
				}
			}
		});  
		
	}
	
	$(document).ready(function () {
        loadIssue(30);
		//initChart();
    });
	
	function parseRequestParams(url,paraName){
        var parentUrl = url;
        var paraVal = "";
        var usernameIndx = parentUrl.indexOf(paraName);
        if(usernameIndx < 0){
            return "";
        }
        usernameIndxEnd = parentUrl.indexOf("&",usernameIndx);
        if(usernameIndxEnd < 0){
            paraVal = parentUrl.substring(usernameIndx);
        }else{
            paraVal = parentUrl.substring(usernameIndx, usernameIndxEnd);
        }

        if(typeof paraVal == "undefined" || paraVal == ""){
            return "";
        }

        paraVal = paraVal.split("=")[1];
        if(typeof paraVal == "undefined" || paraVal == ""){
            return "";
        }
        return paraVal;
    }
	
</script>



	<script type="text/javascript">
		$(function(){
		    var typeid=location.href;
			var typeidCurr=$("#typeid").val();
			var startInd = typeid.indexOf("typeid=");
			var endInd = typeid.indexOf("&num");
			if(endInd < 0){
	        	typeid = typeid.substring(startInd+7);
	        }else{
	        	typeid = typeid.substring(startInd+7, endInd);
	        }
			if(typeid!="undefined" && typeid != typeidCurr){
				$("#typeid").val(typeid);
			}
			
			$("a").click(function(){
				//var typeid=$("#typeid").val();
				var num = $(this).attr("num");
				//var url ="${basePath}/app/analysis/trendsAnalysis?typeid="+typeid+"&num="+num;
				//$(this).attr("href",url);
				loadIssue(num);
				changeCss($(this));
			});
		});
		
		function changeCss(selEle){
			$("a").each(function(){
					$(this).removeClass("on");
				});
				
			selEle.addClass("on");
		}
		/*function queryTrendAnalysis(limitAmount){
			var typeid=$("#typeid").val();
			var num = $("#display_30").attr("num");
			var url ="${basePath}/app/analysis/trendsAnalysis?typeid="+typeid+"&num="+num;
			$("#display_30").attr("href",url);
			$("#display_30").click();
		}*/
		
		
</script>
	
	
</html>
